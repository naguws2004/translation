<!-- prettier-ignore -->
<script th:inline="javascript">
  /*<![CDATA[*/
  // Aurus Production Javascript from 17 April 2024 
  var $jscomp = $jscomp || {}; $jscomp.scope = {}; $jscomp.ASSUME_ES5 = !1; $jscomp.ASSUME_NO_NATIVE_MAP = !1; $jscomp.ASSUME_NO_NATIVE_SET = !1; $jscomp.defineProperty = $jscomp.ASSUME_ES5 || "function" == typeof Object.defineProperties ? Object.defineProperty : function (a, b, d) { a != Array.prototype && a != Object.prototype && (a[b] = d.value) }; $jscomp.getGlobal = function (a) { return "undefined" != typeof window && window === a ? a : "undefined" != typeof global && null != global ? global : a }; $jscomp.global = $jscomp.getGlobal(this); $jscomp.SYMBOL_PREFIX = "jscomp_symbol_";
  $jscomp.initSymbol = function () { $jscomp.initSymbol = function () { }; $jscomp.global.Symbol || ($jscomp.global.Symbol = $jscomp.Symbol) }; $jscomp.Symbol = function () { var a = 0; return function (b) { return $jscomp.SYMBOL_PREFIX + (b || "") + a++ } }();
  $jscomp.initSymbolIterator = function () { $jscomp.initSymbol(); var a = $jscomp.global.Symbol.iterator; a || (a = $jscomp.global.Symbol.iterator = $jscomp.global.Symbol("iterator")); "function" != typeof Array.prototype[a] && $jscomp.defineProperty(Array.prototype, a, { configurable: !0, writable: !0, value: function () { return $jscomp.arrayIterator(this) } }); $jscomp.initSymbolIterator = function () { } }; $jscomp.arrayIterator = function (a) { var b = 0; return $jscomp.iteratorPrototype(function () { return b < a.length ? { done: !1, value: a[b++] } : { done: !0 } }) };
  $jscomp.iteratorPrototype = function (a) { $jscomp.initSymbolIterator(); a = { next: a }; a[$jscomp.global.Symbol.iterator] = function () { return this }; return a }; $jscomp.makeIterator = function (a) { $jscomp.initSymbolIterator(); var b = a[Symbol.iterator]; return b ? b.call(a) : $jscomp.arrayIterator(a) };
  $jscomp.checkStringArgs = function (a, b, d) { if (null == a) throw new TypeError("The 'this' value for String.prototype." + d + " must not be null or undefined"); if (b instanceof RegExp) throw new TypeError("First argument to String.prototype." + d + " must not be a regular expression"); return a + "" };
  $jscomp.polyfill = function (a, b, d, c) { if (b) { d = $jscomp.global; a = a.split("."); for (c = 0; c < a.length - 1; c++) { var e = a[c]; e in d || (d[e] = {}); d = d[e] } a = a[a.length - 1]; c = d[a]; b = b(c); b != c && null != b && $jscomp.defineProperty(d, a, { configurable: !0, writable: !0, value: b }) } };
  $jscomp.polyfill("String.prototype.startsWith", function (a) { return a ? a : function (a, d) { var b = $jscomp.checkStringArgs(this, a, "startsWith"); a += ""; var e = b.length, f = a.length; d = Math.max(0, Math.min(d | 0, b.length)); for (var g = 0; g < f && d < e;)if (b[d++] != a[g++]) return !1; return g >= f } }, "es6", "es3"); $jscomp.FORCE_POLYFILL_PROMISE = !1;
  $jscomp.polyfill("Promise", function (a) {
    function b() { this.batch_ = null } function d(a) { return a instanceof e ? a : new e(function (b, c) { b(a) }) } if (a && !$jscomp.FORCE_POLYFILL_PROMISE) return a; b.prototype.asyncExecute = function (a) { null == this.batch_ && (this.batch_ = [], this.asyncExecuteBatch_()); this.batch_.push(a); return this }; b.prototype.asyncExecuteBatch_ = function () { var a = this; this.asyncExecuteFunction(function () { a.executeBatch_() }) }; var c = $jscomp.global.setTimeout; b.prototype.asyncExecuteFunction = function (a) {
      c(a,
        0)
    }; b.prototype.executeBatch_ = function () { for (; this.batch_ && this.batch_.length;) { var a = this.batch_; this.batch_ = []; for (var b = 0; b < a.length; ++b) { var c = a[b]; delete a[b]; try { c() } catch (k) { this.asyncThrow_(k) } } } this.batch_ = null }; b.prototype.asyncThrow_ = function (a) { this.asyncExecuteFunction(function () { throw a; }) }; var e = function (a) { this.state_ = 0; this.result_ = void 0; this.onSettledCallbacks_ = []; var b = this.createResolveAndReject_(); try { a(b.resolve, b.reject) } catch (h) { b.reject(h) } }; e.prototype.createResolveAndReject_ =
      function () { function a(a) { return function (d) { c || (c = !0, a.call(b, d)) } } var b = this, c = !1; return { resolve: a(this.resolveTo_), reject: a(this.reject_) } }; e.prototype.resolveTo_ = function (a) { if (a === this) this.reject_(new TypeError("A Promise cannot resolve to itself")); else if (a instanceof e) this.settleSameAsPromise_(a); else { a: switch (typeof a) { case "object": var b = null != a; break a; case "function": b = !0; break a; default: b = !1 }b ? this.resolveToNonPromiseObj_(a) : this.fulfill_(a) } }; e.prototype.resolveToNonPromiseObj_ = function (a) {
        var b =
          void 0; try { b = a.then } catch (h) { this.reject_(h); return } "function" == typeof b ? this.settleSameAsThenable_(b, a) : this.fulfill_(a)
      }; e.prototype.reject_ = function (a) { this.settle_(2, a) }; e.prototype.fulfill_ = function (a) { this.settle_(1, a) }; e.prototype.settle_ = function (a, b) { if (0 != this.state_) throw Error("Cannot settle(" + a + ", " + b | "): Promise already settled in state" + this.state_); this.state_ = a; this.result_ = b; this.executeOnSettledCallbacks_() }; e.prototype.executeOnSettledCallbacks_ = function () {
        if (null != this.onSettledCallbacks_) {
          for (var a =
            this.onSettledCallbacks_, b = 0; b < a.length; ++b)a[b].call(), a[b] = null; this.onSettledCallbacks_ = null
        }
      }; var f = new b; e.prototype.settleSameAsPromise_ = function (a) { var b = this.createResolveAndReject_(); a.callWhenSettled_(b.resolve, b.reject) }; e.prototype.settleSameAsThenable_ = function (a, b) { var c = this.createResolveAndReject_(); try { a.call(b, c.resolve, c.reject) } catch (k) { c.reject(k) } }; e.prototype.then = function (a, b) {
        function c(a, b) { return "function" == typeof a ? function (b) { try { d(a(b)) } catch (l) { f(l) } } : b } var d, f, g = new e(function (a,
          b) { d = a; f = b }); this.callWhenSettled_(c(a, d), c(b, f)); return g
      }; e.prototype.catch = function (a) { return this.then(void 0, a) }; e.prototype.callWhenSettled_ = function (a, b) { function c() { switch (d.state_) { case 1: a(d.result_); break; case 2: b(d.result_); break; default: throw Error("Unexpected state: " + d.state_); } } var d = this; null == this.onSettledCallbacks_ ? f.asyncExecute(c) : this.onSettledCallbacks_.push(function () { f.asyncExecute(c) }) }; e.resolve = d; e.reject = function (a) { return new e(function (b, c) { c(a) }) }; e.race = function (a) {
        return new e(function (b,
          c) { for (var e = $jscomp.makeIterator(a), f = e.next(); !f.done; f = e.next())d(f.value).callWhenSettled_(b, c) })
      }; e.all = function (a) { var b = $jscomp.makeIterator(a), c = b.next(); return c.done ? d([]) : new e(function (a, e) { function f(b) { return function (c) { g[b] = c; h--; 0 == h && a(g) } } var g = [], h = 0; do g.push(void 0), h++, d(c.value).callWhenSettled_(f(g.length - 1), e), c = b.next(); while (!c.done) }) }; return e
  }, "es6", "es3");
  $jscomp.iteratorFromArray = function (a, b) { $jscomp.initSymbolIterator(); a instanceof String && (a += ""); var d = 0, c = { next: function () { if (d < a.length) { var e = d++; return { value: b(e, a[e]), done: !1 } } c.next = function () { return { done: !0, value: void 0 } }; return c.next() } }; c[Symbol.iterator] = function () { return c }; return c }; $jscomp.polyfill("Array.prototype.keys", function (a) { return a ? a : function () { return $jscomp.iteratorFromArray(this, function (a) { return a }) } }, "es6", "es3");
  $jscomp.owns = function (a, b) { return Object.prototype.hasOwnProperty.call(a, b) }; $jscomp.polyfill("Object.assign", function (a) { return a ? a : function (a, d) { for (var b = 1; b < arguments.length; b++) { var e = arguments[b]; if (e) for (var f in e) $jscomp.owns(e, f) && (a[f] = e[f]) } return a } }, "es6", "es3"); var appleWalletDiv = '<div class="apple-pay-button-with-text apple-pay-button-black-with-text" onclick="applePayButtonClicked()"><span class="text"></span> <span class="logo"></span></div>';
  function showApplePayButton() { $jscomp.initSymbol(); $jscomp.initSymbolIterator(); $jscomp.initSymbol(); $jscomp.initSymbolIterator(); HTMLCollection.prototype[Symbol.iterator] = Array.prototype[Symbol.iterator]; var a = document.getElementsByClassName("apple-pay-button-black-with-text"); a = $jscomp.makeIterator(a); for (var b = a.next(); !b.done; b = a.next())b.value.className += "block" }
  function applePayButtonClicked() {
    var a = ""; if (null != Aurus.getSkipShippingAddress && void 0 != Aurus.getSkipShippingAddress && "" != Aurus.getSkipShippingAddress && null != Aurus.getSkipBillingAddress && "" != Aurus.getSkipBillingAddress && void 0 != Aurus.getSkipBillingAddress) "1" == Aurus.getSkipShippingAddress && "1" == Aurus.getSkipBillingAddress ? a = {
      countryCode: Aurus.getPurchaseCountry, requiredBillingContactFields: ["postalAddress", "email", "name", "phone"], currencyCode: Aurus.getCurrencyCode, total: {
        label: "Estimated Order Total",
        amount: parseFloat(Aurus.getOrderAmount).toFixed(2)
      }, lineItems: Aurus.getLineItems, supportedNetworks: "amex discover masterCard visa privateLabel maestro jcb".split(" "), merchantCapabilities: ["supports3DS"]
    } : "0" == Aurus.getSkipShippingAddress && "1" == Aurus.getSkipBillingAddress ? a = {
      countryCode: Aurus.getPurchaseCountry, requiredBillingContactFields: ["postalAddress", "email", "name", "phone"], currencyCode: Aurus.getCurrencyCode, shippingContact: {
        phoneNumber: Aurus.getShippingAddress.phoneNumber, emailAddress: Aurus.getShippingAddress.emailAddress,
        givenName: Aurus.getShippingAddress.firstName, familyName: Aurus.getShippingAddress.lastName, addressLines: [Aurus.getShippingAddress.street, Aurus.getShippingAddress.street2], locality: Aurus.getShippingAddress.city, administrativeArea: Aurus.getShippingAddress.state, postalCode: Aurus.getShippingAddress.postalCode, countryCode: Aurus.getShippingAddress.countryCode
      }, total: { label: "Estimated Order Total", amount: parseFloat(Aurus.getOrderAmount).toFixed(2) }, lineItems: Aurus.getLineItems, shippingMethods: Aurus.getShippingMethod,
      supportedNetworks: "amex discover masterCard visa privateLabel maestro jcb".split(" "), merchantCapabilities: ["supports3DS"]
    } : "1" == Aurus.getSkipShippingAddress && "0" == Aurus.getSkipBillingAddress ? a = {
      countryCode: Aurus.getPurchaseCountry, requiredBillingContactFields: ["postalAddress", "email", "name", "phone"], currencyCode: Aurus.getCurrencyCode, billingContact: {
        phoneNumber: Aurus.getBillingAddress.phoneNumber, emailAddress: Aurus.getBillingAddress.emailAddress, givenName: Aurus.getBillingAddress.firstName, familyName: Aurus.getBillingAddress.lastName,
        addressLines: [Aurus.getBillingAddress.street, Aurus.getBillingAddress.street2], locality: Aurus.getBillingAddress.city, administrativeArea: Aurus.getBillingAddress.state, postalCode: Aurus.getBillingAddress.postalCode, countryCode: Aurus.getBillingAddress.countryCode
      }, total: { label: "Estimated Order Total", amount: parseFloat(Aurus.getOrderAmount).toFixed(2) }, lineItems: Aurus.getLineItems, supportedNetworks: "amex discover masterCard visa privateLabel maestro jcb".split(" "), merchantCapabilities: ["supports3DS"]
    } :
      "0" == Aurus.getSkipShippingAddress && "0" == Aurus.getSkipBillingAddress && (a = {
        countryCode: Aurus.getPurchaseCountry, requiredBillingContactFields: ["postalAddress", "email", "name", "phone"], currencyCode: Aurus.getCurrencyCode, shippingContact: {
          phoneNumber: Aurus.getShippingAddress.phoneNumber, emailAddress: Aurus.getShippingAddress.emailAddress, givenName: Aurus.getShippingAddress.firstName, familyName: Aurus.getShippingAddress.lastName, addressLines: [Aurus.getShippingAddress.street, Aurus.getShippingAddress.street2],
          locality: Aurus.getShippingAddress.city, administrativeArea: Aurus.getShippingAddress.state, postalCode: Aurus.getShippingAddress.postalCode, countryCode: Aurus.getShippingAddress.countryCode
        }, billingContact: {
          phoneNumber: Aurus.getBillingAddress.phoneNumber, emailAddress: Aurus.getBillingAddress.emailAddress, givenName: Aurus.getBillingAddress.firstName, familyName: Aurus.getBillingAddress.lastName, addressLines: [Aurus.getBillingAddress.street, Aurus.getBillingAddress.street2], locality: Aurus.getBillingAddress.city,
          administrativeArea: Aurus.getBillingAddress.state, postalCode: Aurus.getBillingAddress.postalCode, countryCode: Aurus.getBillingAddress.countryCode
        }, total: { label: "Estimated Order Total", amount: parseFloat(Aurus.getOrderAmount).toFixed(2) }, lineItems: Aurus.getLineItems, shippingMethods: Aurus.getShippingMethod, supportedNetworks: "amex discover masterCard visa privateLabel maestro jcb".split(" "), merchantCapabilities: ["supports3DS"]
      }); else if (!(null != Aurus.getSkipShippingAddress && void 0 != Aurus.getSkipShippingAddress &&
        "" != Aurus.getSkipShippingAddress || null != Aurus.getSkipBillingAddress && "" != Aurus.getSkipBillingAddress && void 0 != Aurus.getSkipBillingAddress)) a = { countryCode: Aurus.getPurchaseCountry, requiredBillingContactFields: ["postalAddress", "email", "name", "phone"], currencyCode: Aurus.getCurrencyCode, total: { label: "Estimated Order Total", amount: parseFloat(Aurus.getOrderAmount).toFixed(2) }, lineItems: Aurus.getLineItems, supportedNetworks: "amex discover masterCard visa privateLabel maestro jcb".split(" "), merchantCapabilities: ["supports3DS"] };
    else if (null == Aurus.getSkipShippingAddress || void 0 == Aurus.getSkipShippingAddress || "" == Aurus.getSkipShippingAddress || null == Aurus.getSkipBillingAddress || "" == Aurus.getSkipBillingAddress || void 0 == Aurus.getSkipBillingAddress) a = {
      countryCode: Aurus.getPurchaseCountry, requiredBillingContactFields: ["postalAddress", "email", "name", "phone"], currencyCode: Aurus.getCurrencyCode, total: { label: "Estimated Order Total", amount: parseFloat(Aurus.getOrderAmount).toFixed(2) }, lineItems: Aurus.getLineItems, supportedNetworks: "amex discover masterCard visa privateLabel maestro jcb".split(" "),
      merchantCapabilities: ["supports3DS"]
    }, window.parent.postMessage("AurusScriptError=Invalid_Shipping or Billing Flag", "*"); "1" != Aurus.getSkipRequiredShippingContact && (a.requiredShippingContactFields = ["postalAddress", "email", "name", "phone"]); var b = new ApplePaySession(6, a); b.oncancel = function (a) { try { window.parent.postMessage("AurusApplePayCancelEvent=ApplePayCancelEvent", "*") } catch (c) { } }; b.onvalidatemerchant = function (a) { getApplePaySession(a.validationURL).then(function (a) { b.completeMerchantValidation(a) }) };
    b.onshippingmethodselected = function (a) {
      var c = ""; a = a.shippingMethod; Aurus._selectedShippingMethod = a; a = JSON.parse(JSON.stringify(a)); a.eventType = "shippingMethod"; try { window.parent.postMessage("AurusApplePayEvent=" + JSON.stringify(a), "*") } catch (e) { } window.addEventListener("message", function (a) {
        a = a.data; a.startsWith("ApplePayUpdatedShippingMethod") && (a = a.split("="), c = JSON.parse(a[1]), (new Promise(function (a, b) {
          "object" === typeof c && null != c && 0 !== Object.keys(c).length ? (Aurus._shippingMethod = c.shippingMethods,
            Aurus._orderAmount = parseFloat(c.order.order_amount.amount).toFixed(2), Aurus._subTotal = parseFloat(c.order.item_total.amount).toFixed(2), Aurus._estimatedTax = parseFloat(c.order.tax_amount.amount).toFixed(2), Aurus._shippingCost = parseFloat(c.order.shipping_amount.amount).toFixed(2), Aurus._giftWrap = parseFloat(c.order.gift_wrap.amount).toFixed(2), Aurus._lineItems = Aurus.importLineItems(c), a(c)) : b(c)
        })).then(function (a) {
          b.completeShippingMethodSelection({
            newTotal: {
              label: "Estimated Order Total", amount: Aurus.getOrderAmount,
              type: "final"
            }, newLineItems: Aurus.getLineItems
          })
        }).catch(function (a) { console.log(a) }))
      })
    }; b.onpaymentauthorized = function (a) { Aurus._applePayPaymetData = a.payment; b.completePayment(ApplePaySession.STATUS_SUCCESS) }; b.begin()
  }
  function getApplePaySession(a) { return new Promise(function (b, d) { var c = new XMLHttpRequest; c.open("POST", Aurus._priEcstBaseURL + "createsession?displayName=" + Aurus.getDisplayName); c.onload = function () { 200 <= this.status && 300 > this.status ? b(JSON.parse(c.response)) : d({ status: this.status, statusText: c.statusText }) }; c.onerror = function () { d({ status: this.status, statusText: c.statusText }) }; c.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"); c.send("validationUrl=" + a) }) }
  function authorize(a) { return new Promise(function (b, d) { var c = new XMLHttpRequest, e = jQuery("#priEcstBase_urlId").val(); c.open("POST", e + "authorize"); c.onload = function () { 200 <= this.status && 300 > this.status ? b(c.response) : d({ status: this.status, statusText: c.statusText }) }; c.onerror = function () { d({ status: this.status, statusText: c.statusText }) }; c.setRequestHeader("Content-Type", "application/json"); c.send(JSON.stringify(a)) }) }
  var paypalCheckoutJs, transactionAmtForPay = 0, jQuery, Aurus = {
    urlIndicator: "", apiversion: "", priEcstBaseURL: "", secEcstBaseURL: "", ecstCdnURL: "", aurusSessionId: "", applePayPaymetData: "", orderAmount: "0.00", shippingCost: "0.00", subTotal: "0.00", discount: "0.00", estimatedTax: "0.00", shippingMethod: "", selectedShippingMethod: "", newOrdertotal: "0.00", newShippingCost: "0.00", giftWrap: "0.00", coupon: "0.00", ottResponseData: "", hostDomainURL: "", billerToken: "", AltApplePay: "0", env: "", cid: "", currencyCode: "", purchaseCountry: "",
    billerFailed: !1, sessionFailed: !1, applePayAbort: !1, walletID: "", checkOutData: "", shippingAddress: "", billingAddress: "", skipBillingAddressskipShippingAddress: "", skipBillingAddress: "", lineItems: "", googleEnv: "", displayName: "", ipnUrl: "", googleShippingAddReq: "", IsKlarnaExress: !1, klarnaPayMethodType: "", subWalletID: "", klarnaAuthToken: "", klarnaClientToken: "", set _setIpnUrl(a) { this.ipnUrl = a }, get getIpnUrl() { return this.ipnUrl }, set _displayName(a) { this.displayName = a }, get getDisplayName() { return this.displayName },
    get getLineItems() { return this.lineItems }, set _lineItems(a) { this.lineItems = a }, get getSkipShippingAddress() { return this.skipShippingAddress }, set _SkipShippingAddress(a) { this.skipShippingAddress = a }, get getSkipBillingAddress() { return this.skipBillingAddress }, set _SkipBillingAddress(a) { this.skipBillingAddress = a }, get getShippingAddress() { return this.shippingAddress }, set _ShippingAddress(a) { this.shippingAddress = a }, get getBillingAddress() { return this.billingAddress }, set _BillingAddress(a) {
      this.billingAddress =
      a
    }, get getalternatePaymentMatrix() { return JSON.parse(this.alternatePaymentMatrix) }, set _AltApplePay(a) { this.AltApplePay = a }, get getAltApplePay() { return this.AltApplePay }, get _apiversion() { return this.apiversion }, set _orderAmount(a) { this.orderAmount = a }, get getOrderAmount() { return this.orderAmount }, set _shippingCost(a) { this.shippingCost = a }, get getShippingCost() { return this.shippingCost }, set _newOrdertotal(a) { this.newOrdertotal = a }, get getNewOrdertotal() { return this.newOrdertotal }, set _newShippingCost(a) {
      this.newShippingCost =
      a
    }, get getNewShippingCost() { return this.newShippingCost }, set _selectedShippingMethod(a) { this.selectedShippingMethod = a }, get getSelectedShippingMethod() { return this.selectedShippingMethod }, set _subTotal(a) { this.subTotal = a }, get getSubTotal() { return this.subTotal }, set _discount(a) { this.discount = a }, get getDiscount() { return this.discount }, set _estimatedTax(a) { this.estimatedTax = a }, get getEstimatedTax() { return this.estimatedTax }, set _shippingMethod(a) { this.shippingMethod = a }, get getShippingMethod() { return this.shippingMethod },
    set _currencyCode(a) { this.currencyCode = a }, get getCurrencyCode() { return this.currencyCode }, set _purchaseCountry(a) { this.purchaseCountry = a }, get getPurchaseCountry() { return this.purchaseCountry }, set _giftWrap(a) { this.giftWrap = a }, get getGiftWrap() { return this.giftWrap }, set _coupon(a) { this.coupon = a }, get getCoupon() { return this.coupon }, set _ottResponseData(a) { this.ottResponseData = a }, get getOttResponseData() { return this.ottResponseData }, set _setEnv(a) { this.env = a }, get getEnv() { return this.env }, set _setCid(a) {
      this.cid =
      a
    }, get getCid() { return this.cid }, set _setBillerFailed(a) { this.billerFailed = a }, get getBillerFailed() { return this.billerFailed }, set _setWalletID(a) { this.walletID = a }, get getWalletID() { return this.walletID }, set _setSessionFailed(a) { this.sessionFailed = a }, get getSessionFailed() { return this.sessionFailed }, set _setApplePayAbort(a) { this.applePayAbort = a }, get getApplePayAbort() { return this.applePayAbort }, set _checkOutData(a) { this.checkOutData = a }, get getCheckOutData() { return this.checkOutData }, getcdate: function () {
      var a =
        new Date; return ("0" + (a.getMonth() + 1)).slice(-2) + "" + ("0" + a.getDate()).slice(-2) + "" + a.getFullYear()
    }, getctime: function () { var a = new Date; return ("0" + a.getHours()).slice(-2) + "" + ("0" + a.getMinutes()).slice(-2) + "" + ("0" + a.getSeconds()).slice(-2) }, set _urlIndicator(a) { this.urlIndicator = a }, get getUrlIndicator() { return this.urlIndicator }, set _aurusSessionId(a) { this.aurusSessionId = a }, get getAurusSession() { return this.aurusSessionId }, get _priEcstBaseURL() { return this.priEcstBaseURL }, get _secEcstBaseURL() { return this.secEcstBaseURL },
    get _ecstCdnURL() { return this.ecstCdnURL }, get _hostDomainURL() { return this.hostDomainURL }, get _googleEnv() { return this.googleEnv }, get getSkipRequiredShippingContact() { return this.skipRequiredShippingContact }, set _skipRequiredShippingContact(a) { this.skipRequiredShippingContact = a }, set _googleShippingAddReq(a) { return this.googleShippingAddReq = a }, get getKlarnaExress() { return this.IsKlarnaExress }, set _setKlarnaExress(a) { this.IsKlarnaExress = a }, set setKlarnaPayMethodType(a) { this.klarnaPayMethodType = a }, get getKlarnaPayMethodType() { return this.klarnaPayMethodType },
    set _setSubWalletID(a) { this.subWalletID = a }, get getSubWalletID() { return this.subWalletID }, set kct(a) { this.klarnaClientToken = a }, get getKlarnaClientToken() { return this.klarnaClientToken }, set kat(a) { this.klarnaAuthToken = a }, get getKlarnaAuthToken() { return this.klarnaAuthToken }, aurusInit: function (a, b) {
      jQuery = b; Aurus._orderAmount = a.order.order_amount.amount; Aurus._purchaseCountry = a.order.purchaseCountry; Aurus._currencyCode = a.order.purchaseCurrency; Aurus._aurusSessionId = a.sessionId; Aurus._ShippingAddress =
        a.customer.shipping_address; transactionAmtForPay = a.order.order_amount.amount; Aurus._BillingAddress = a.customer.billing_address; Aurus._SkipShippingAddress = a.customer.skipShippingAddress; Aurus._urlIndicator = a.apmMatrix; Aurus._skipRequiredShippingContact = a.customer.skipRequiredShippingContact; Aurus._setEnv = a.env.toLowerCase(); Aurus._setCid = a.aurusClientId; if ("live" == this.getEnv || "sandbox" == this.getEnv) {
          if ("live" == this.getEnv ? (Aurus.priEcstBaseURL = "https://pecst01.aurusepay.com/storeservices/ecom/", Aurus.secEcstBaseURL =
            "https://ecst01.auruspay.com/storeservices/ecom/", Aurus.ecstCdnURL = "https://pecst01.aurusepay.com/storeservices/", Aurus.hostDomainURL = "?d1=es01.auruspay.com&d2=es41.auruspay.com", Aurus.googleEnv = "PRODUCTION") : "sandbox" == this.getEnv ? (Aurus.priEcstBaseURL = "https://uatps48.aurusepay.com/storeservices/ecom/", Aurus.secEcstBaseURL = "https://uatps48.aurusepay.com/storeservices/ecom/", Aurus.ecstCdnURL = "https://uatps48.aurusepay.com/storeservices/", Aurus.hostDomainURL = "?d1=uat42.auruspay.com&d2=uat42.auruspay.com",
              Aurus.googleEnv = "TEST") : window.parent.postMessage("AurusScriptError=Invalid_Environment", "*"), "1" == this.getUrlIndicator.charAt(6) && jQuery("#applepayDiv").length && (jQuery("#applepayDiv").empty(), jQuery(".apple-pay-button-with-text").attr("style", "display:block"), this.enableApplePay(a)), "1" == this.getUrlIndicator.charAt(10) && jQuery("#googlepayDiv").length ? (jQuery("#googlepayDiv").empty(), this.initGooglePay(a)) : console.log("GooglePay not Suppoerted"), "1" == this.getUrlIndicator.charAt(13) && jQuery("#klarnaDiv").length ||
            jQuery("#klarnaExpressDiv").length) jQuery("#klarnaDiv").empty(), this.enableKlarna(a)
        } else window.parent.postMessage("AurusScriptError=Invalid_Environment", "*")
    }, set _applePayPaymetData(a) { this.applePayPaymetData = a; Aurus.initappleWalletToken() }, get getapplePayPaymetData() { return this.applePayPaymetData }, googleGatewayId: "", googleMerchantId: "", set _googleGatewayId(a) { this.googleGatewayId = a }, get getGoogleGatewayId() { return this.googleGatewayId }, set _googleMerchantId(a) { this.googleMerchantId = a }, get getGoogleMerchantId() { return this.googleMerchantId },
    set _gPayPaymetData(a) { this.googlePayPaymentData = a; Aurus._setWalletID = "11"; Aurus.initWalletToken() }, get gPayPaymetData() { return this.googlePayPaymentData }, enableKlarna: function (a) { "1" == a.customer.isExpressCheckout && jQuery("#klarnaExpressDiv").length ? (Aurus._setKlarnaExress = !0, this.renderKlarnaExpressButton()) : (Aurus.setKlarnaPayMethodType = a.paymentMethod, Aurus._setWalletID = "14", this.createKlarnaContainer(), a = this.getCustInfoForKlarna(a), this.getBillerToken(a, this.klarnaPayBillerTokenResponseHandler)) },
    renderKlarnaExpressButton: function () {
      var a = document.createElement("script"); a.setAttribute("type", "text/javascript"); a.setAttribute("src", "https://x.klarnacdn.net/express-button/v1/lib.js"); a.setAttribute("data-id", "N104360"); a.setAttribute("data-environment", "playground"); document.getElementsByTagName("head")[0].appendChild(a); jQuery("#klarnaExpressDiv").is(":empty") && (a = document.createElement("klarna-express-button"), a.setAttribute("id", "klarna_container"), a.setAttribute("data-locale", "en-US"),
        a.setAttribute("data-theme", "default (default) | dark | light"), document.getElementById("klarnaExpressDiv").appendChild(a))
    }, createKlarnaContainer: function () { if (jQuery("#klarnaDiv").is(":empty")) { var a = document.createElement("div"); a.setAttribute("id", "klarna_container"); a.setAttribute("style", "width: 100%;"); document.getElementById("klarnaDiv").appendChild(a) } }, getCustInfoForKlarna: function (a) {
      if (1 == a.customer.skipShippingAddress) {
        var b = {
          purchase_country: "" + a.order.purchaseCountry + "", purchase_currency: "" +
            a.order.purchaseCurrency + "", locale: "" + a.order.locale + "", order_amount: "" + a.order.order_amount.amount + "", order_tax_amount: "" + a.order.tax_amount.amount + "", order_lines: []
        }; if ("" != a.customer.billing_address.firstName && null != a.customer.billing_address.firstName && void 0 != a.customer.billing_address.firstName && "" != a.customer.billing_address.lastName && null != a.customer.billing_address.lastName && void 0 != a.customer.billing_address.lastName && "" != a.customer.billing_address.emailAddress && null != a.customer.billing_address.emailAddress &&
          void 0 != a.customer.billing_address.emailAddress && "" != a.customer.billing_address.phoneNumber && null != a.customer.billing_address.phoneNumber && void 0 != a.customer.billing_address.phoneNumber && "" != a.customer.billing_address.street && null != a.customer.billing_address.street && void 0 != a.customer.billing_address.street) {
            var d = {
              given_name: a.customer.billing_address.firstName, family_name: a.customer.billing_address.lastName, email: a.customer.billing_address.emailAddress, street_address: a.customer.billing_address.street,
              street_address2: a.customer.billing_address.street2, postal_code: a.customer.billing_address.postalCode, city: a.customer.billing_address.city, region: a.customer.billing_address.state, phone: a.customer.billing_address.phoneNumber, country: a.customer.billing_address.countryCode
            }; b.billing_address = d
        }
      } else b = {
        purchase_country: "" + a.order.purchaseCountry + "", purchase_currency: "" + a.order.purchaseCurrency + "", locale: "" + a.order.locale + "", order_amount: "" + a.order.order_amount.amount + "", order_tax_amount: "" + a.order.tax_amount.amount +
          "", intent: a.order.intent, order_lines: [], shipping_address: { given_name: a.customer.shipping_address.firstName, family_name: a.customer.shipping_address.lastName, email: a.customer.shipping_address.emailAddress, street_address: a.customer.shipping_address.street, street_address2: a.customer.shipping_address.street2, postal_code: a.customer.shipping_address.postalCode, city: a.customer.shipping_address.city, region: a.customer.shipping_address.state, phone: a.customer.shipping_address.phoneNumber, country: a.customer.shipping_address.countryCode }
      },
        "" != a.customer.billing_address.firstName && null != a.customer.billing_address.firstName && void 0 != a.customer.billing_address.firstName && "" != a.customer.billing_address.lastName && null != a.customer.billing_address.lastName && void 0 != a.customer.billing_address.lastName && "" != a.customer.billing_address.emailAddress && null != a.customer.billing_address.emailAddress && void 0 != a.customer.billing_address.emailAddress && "" != a.customer.billing_address.phoneNumber && null != a.customer.billing_address.phoneNumber && void 0 != a.customer.billing_address.phoneNumber &&
        "" != a.customer.billing_address.street && null != a.customer.billing_address.street && void 0 != a.customer.billing_address.street && (d = {
          given_name: a.customer.billing_address.firstName, family_name: a.customer.billing_address.lastName, email: a.customer.billing_address.emailAddress, street_address: a.customer.billing_address.street, street_address2: a.customer.billing_address.street2, postal_code: a.customer.billing_address.postalCode, city: a.customer.billing_address.city, region: a.customer.billing_address.state, phone: a.customer.billing_address.phoneNumber,
          country: a.customer.billing_address.countryCode
        }, b.billing_address = d); a.store_pickup && (b.attachment = {
          content_type: "application/vnd.klarna.internal.emd-v2+json", body: {
            other_delivery_address: [{
              shipping_method: a.store_pickup.shipping_method, shipping_type: a.store_pickup.shipping_type, first_name: a.store_pickup.first_name, last_name: a.store_pickup.last_name, street_address: a.store_pickup.street_address, street_number: a.store_pickup.street_number, postal_code: a.store_pickup.postal_code, city: a.store_pickup.city,
              country: a.store_pickup.country
            }]
          }
        }); for (i = 0; i < a.order.items.length; i++)d = {
          reference: "" + a.order.items[i].reference + "", quantity: a.order.items[i].quantity, total_amount: a.order.items[i].totalAmount, name: "" + a.order.items[i].name + "", total_discount_amount: a.order.items[i].totalDiscountAmount, total_tax_amount: a.order.items[i].totalTaxAmount, type: "" + a.order.items[i].type + "", unit_price: a.order.items[i].price.amount, tax_rate: a.order.items[i].taxRate, product_url: this.urlValidation(a.order.items[i].product_url),
          image_url: this.urlValidation(a.order.items[i].image_url)
        }, b.order_lines.push(d); return b
    }, getBillerToken: function (a, b) { var d = Aurus._priEcstBaseURL + "altbillertoken" + Aurus._hostDomainURL; a = Aurus.getHostRequestJSON(Aurus.buildBillerRequestPayload(a)); this.ajaxCall(a, d, b) }, klarnaPayBillerTokenResponseHandler: function (a) { "00000" == a.response_code && "APPROVAL" == a.response_text ? (Aurus.kct = a.billerToken, Aurus.renderKlarnaElements()) : (Aurus._setBillerFailed = !0, Aurus._setWalletID = "14", klarnaResponseHandler(buildMerchantResponseJson(a))) },
    buildBillerRequestPayload: function (a) { a = { "1.1": "", "1.2": "", "1.3": "", "1.4": Aurus.getCid, "4.1": "130", "12.73": "1", "12.63": Aurus.getAurusSession, "4.36": "33", "4.15": "1", "12.89": Aurus.getWalletID, "3.21": Aurus._apiversion, "12.90": this.toHex(JSON.stringify(a)), "2.1": "C0N43N4U45RLN8R1", "12.102": Aurus.getSubWalletID, "2.2": "000C29BFD6C0", "2.3": Aurus.srcIPAddress, "4.18": this.getcdate(), "4.19": this.getctime() }; return JSON.stringify(a) }, renderKlarnaElements: function () {
      var a = document.createElement("script"); a.setAttribute("type",
        "text/javascript"); a.setAttribute("src", "https://x.klarnacdn.net/kp/lib/v1/api.js"); document.getElementsByTagName("head")[0].appendChild(a); if (jQuery("#klarnaButtonDiv_Top").length) {
          jQuery("#KlarnaButton").remove(); var b = document.createElement("div"); b.setAttribute("style", "width: 100%;"); b.setAttribute("id", "KlarnaButton"); document.getElementById("klarnaButtonDiv_Top").appendChild(b); a = document.createElement("button"); a.setAttribute("class", "authorize"); a.setAttribute("style", " height: 40px;width:100%;background-color: #067d35;color: #ffffff;font-family: 'Roboto Condensed';padding-left: 40px;font-size :18px; padding-right: 40px; border:none;");
          a.textContent = "PLACE  ORDER"; b.appendChild(a); b = document.createElement("span"); b.setAttribute("class", "Span"); a.appendChild(b)
        } jQuery("#klarnaButtonDiv_Bottom").length && jQuery("#klarnaButtonDiv_Bottom").is(":empty") && (b = document.createElement("div"), b.setAttribute("style", "width: 100%;"), document.getElementById("klarnaButtonDiv_Bottom").appendChild(b), a = document.createElement("button"), a.setAttribute("class", "authorize"), a.setAttribute("style", " height: 50px;  background-color: #ffffff; color: white;  border: 1px solid black; width: 100%; "),
          b.appendChild(a), b = document.createElement("span"), b.setAttribute("class", "Span"), a.appendChild(b), b = document.createElement("img"), b.setAttribute("class", "img"), b.setAttribute("style", "height:47px; width:100px;margin-bottom: 0px;"), b.setAttribute("src", "https://x.klarnacdn.net/payment-method/assets/badges/generic/white/klarna.svg"), a.appendChild(b))
    }, urlValidation: function (a) { return 1024 <= a.length ? a.substring(0, 1024) : a }, klarnaAuthTokenHandler: function (a) {
      1 == a.approved ? (Aurus.kat = a.authorization_token,
        this.getSessionToken(Aurus.getKlarnaAuthToken, this.klarnaPaySessionTokenResponseHandler)) : klarnaResponseHandler(buildMerchantResponseJson(a))
    }, getSessionToken: function (a, b) { var d = Aurus._priEcstBaseURL + "altsessiontoken" + Aurus._hostDomainURL; a = Aurus.getHostRequestJSON(Aurus.buildSessionTokenRequestPayload(a)); this.ajaxCall(a, d, b) }, klarnaPaySessionTokenResponseHandler: function (a) {
      "APPROVAL" == a.response_text && "00000" == a.response_code ? Aurus.blankToken() : (Aurus.blankToken(), Aurus._setWalletID = "14", Aurus._setSessionFailed =
        !0); klarnaResponseHandler(buildMerchantResponseJson(a))
    }, initGooglePay: function (a) {
      if (0 < !jQuery("#googlepayDiv").children().length) {
        a = document.getElementById("googlepayDiv"); a.innerHTML = ""; var b = document.createElement("div"); b.setAttribute("id", "aurus-google-pay-containerId"); b.setAttribute("class", "aurus-sezzel-checkout"); a.appendChild(b); "live" == this.getEnv || "sandbox" == this.getEnv ? "live" == this.getEnv ? tokenizationSpecification.parameters.gatewayMerchantId = "1012311800130977811265267" : "sandbox" ==
          this.getEnv ? tokenizationSpecification.parameters.gatewayMerchantId = "12345678910111213141" : window.parent.postMessage("AurusScriptError=Invalid_Environment", "*") : window.parent.postMessage("AurusScriptError=Invalid_Environment", "*")
      } googleShippingAddReq = "1" != Aurus.getSkipRequiredShippingContact ? !0 : !1; Aurus.importGooglePayurl()
    }, importGooglePayurl: function () {
      var a = document.createElement("script"); a.setAttribute("type", "text/javascript"); a.setAttribute("src", "https://pay.google.com/gp/p/js/pay.js"); a.onload =
        function () { onGooglePayLoaded() }; document.head.append(a)
    }, initWalletToken: function () { var a = Aurus.getHostRequestJSON(Aurus.buildGooglePaySessionTokenRequestJson()); Aurus.getSessionTokenPrimary(a, Aurus.googlepaySessionTokenResponseHandler) }, getSessionTokenPrimary: function (a, b) {
      jQuery.ajax({
        url: Aurus._priEcstBaseURL + "altsessiontoken" + Aurus._hostDomainURL, async: !1, dataType: "json", type: "post", contentType: "application/x-www-form-urlencoded", data: a, success: function (a) { b(a) }, error: function (d, c, e) {
          Aurus.getSessionTokenSecondary(a,
            b)
        }
      })
    }, getSessionTokenSecondary: function (a, b) { jQuery.ajax({ url: Aurus._secEcstBaseURL + "altsessiontoken" + Aurus._hostDomainURL, async: !0, dataType: "json", type: "post", contentType: "application/x-www-form-urlencoded", data: a, success: function (a) { b(a) }, error: function (a, b, e) { } }) }, buildGooglePaySessionTokenRequestJson: function () {
      var a = {
        "4.20": "840", "4.21": "840", "12.63": Aurus.aurusSessionId, "12.88": "1", "4.36": "28", "12.89": Aurus.getWalletID, "3.21": Aurus._apiversion, "12.90": this.toHex(Aurus.googlePayPaymentData),
        "1.1": "", "1.2": "", "2.1": "C0N43N4U45RLN8R1", "1.3": "", "1.4": Aurus.getCid, "2.2": "EE928BC346F8", "3.1": "8", "2.3": Aurus.srcIPAddress, "4.1": "132", "4.2": "000018", "3.4": "00", "3.5": "1.0", "3.6": "1.0", "3.8": "1", "4.18": this.getcdate(), "4.19": this.getctime()
      }; return JSON.stringify(a)
    }, googlepaySessionTokenResponseHandler: function (a) {
      "00000" == a.response_code && "APPROVAL" == a.response_text ? (Aurus.blankToken(), digitalWalletResponseHandler(buildMerchantResponseJson(a)), jQuery("#googlepayDiv").length && 0 < jQuery("#googlepayDiv").children().length &&
        (jQuery("#aurus-google-pay-containerId").empty(), addGooglePayButtonWithCn())) : (Aurus.blankToken(), Aurus._setSessionFailed = !0, Aurus._setWalletID = "11", digitalWalletResponseHandler(buildMerchantResponseJson(a)))
    }, ajaxCall: function (a, b, d) { jQuery.ajax({ url: b, async: !1, dataType: "json", type: "post", contentType: "application/x-www-form-urlencoded", data: a, success: function (a) { d(a) }, error: function (a, b, d) { } }) }, enableApplePay: function (a) {
      Aurus._orderAmount = parseFloat(a.order.order_amount.amount).toFixed(2); Aurus._displayName =
        "" != a.customer.displayName || null != a.customer.displayName ? a.customer.displayName : "OReilly"; this.initApplePay(a)
    }, initApplePay: function (a) {
      window.ApplePaySession && ApplePaySession.canMakePayments && (document.getElementById("applepayDiv") && (document.getElementById("applepayDiv").innerHTML = "", document.getElementById("applepayDiv").insertAdjacentHTML("afterbegin", appleWalletDiv)), showApplePayButton()); Aurus._orderAmount = parseFloat(a.order.order_amount.amount).toFixed(2); Aurus._shippingCost = parseFloat(a.order.shipping_amount.amount).toFixed(2);
      Aurus._subTotal = parseFloat(a.order.item_total.amount).toFixed(2); Aurus._estimatedTax = parseFloat(a.order.tax_amount.amount).toFixed(2); Aurus._shippingMethod = a.shippingMethods; Aurus._giftWrap = parseFloat(a.order.gift_wrap.amount).toFixed(2); Aurus.importApplePayurl(); Aurus._lineItems = this.importLineItems(a); Aurus.checkBillingAddress(a)
    }, checkBillingAddress: function (a) {
      Aurus._SkipBillingAddress = "" != Aurus.getBillingAddress && null != Aurus.getBillingAddress && void 0 != Aurus.getBillingAddress ? "" != Aurus.getBillingAddress.firstName &&
        "" != Aurus.getBillingAddress.lastName && "" != Aurus.getBillingAddress.emailAddress && "" != Aurus.getBillingAddress.phoneNumber && "" != Aurus.getBillingAddress.street && "" != Aurus.getBillingAddress.city && "" != Aurus.getBillingAddress.state && "" != Aurus.getBillingAddress.postalCode && "" != Aurus.getBillingAddress.countryCode && null != Aurus.getBillingAddress.firstName && null != Aurus.getBillingAddress.lastName && null != Aurus.getBillingAddress.emailAddress && null != Aurus.getBillingAddress.phoneNumber && null != Aurus.getBillingAddress.street &&
        null != Aurus.getBillingAddress.city && null != Aurus.getBillingAddress.state && null != Aurus.getBillingAddress.postalCode && null != Aurus.getBillingAddress.countryCode && void 0 != Aurus.getBillingAddress.firstName && void 0 != Aurus.getBillingAddress.lastName && void 0 != Aurus.getBillingAddress.emailAddress && void 0 != Aurus.getBillingAddress.phoneNumber && void 0 != Aurus.getBillingAddress.street && void 0 != Aurus.getBillingAddress.city && void 0 != Aurus.getBillingAddress.state && void 0 != Aurus.getBillingAddress.postalCode && void 0 !=
        Aurus.getBillingAddress.countryCode ? "0" : "1" : "1"
    }, importLineItems: function (a) {
      null != a.order.coupon && void 0 != a.order.coupon && null != a.order.discounts && void 0 != a.order.discounts ? (Aurus._discount = parseFloat(a.order.discounts.amount).toFixed(2), Aurus._coupon = parseFloat(a.order.coupon.amount).toFixed(2), a = [{ label: "Subtotal", amount: Aurus.getSubTotal, type: "final" }, { label: "Gift Wrap", amount: Aurus.getGiftWrap, type: "final" }, { label: "Coupon", amount: Aurus.getCoupon, type: "final" }, {
        label: "Discount", amount: Aurus.getDiscount,
        type: "final"
      }, { label: "Shipping", amount: Aurus.getShippingCost, type: "final" }, { label: "Estimated Tax", amount: Aurus.getEstimatedTax, type: "final" }]) : a = [{ label: "Subtotal", amount: Aurus.getSubTotal, type: "final" }, { label: "Gift Wrap", amount: Aurus.getGiftWrap, type: "final" }, { label: "Shipping", amount: Aurus.getShippingCost, type: "final" }, { label: "Estimated Tax", amount: Aurus.getEstimatedTax, type: "final" }]; return a
    }, importApplePayurl: function () {
      var a = document.getElementsByTagName("head")[0], b = document.createElement("link");
      b.rel = "stylesheet"; b.type = "text/css"; b.href = Aurus._ecstCdnURL + "css/applePayOReilly.css"; b.media = "all"; a.appendChild(b)
    }, getApplePayRequestJson: function () {
      var a = {
        "4.20": "840", "4.21": "840", "12.63": Aurus.aurusSessionId, "12.88": "1", "12.89": "7", "3.21": Aurus._apiversion, "12.90": this.toHex(JSON.stringify(Aurus.applePayPaymetData)), "1.1": "", "1.2": "", "2.1": "C0N43N4U45RLN8R1", "1.3": "", "1.4": Aurus.getCid, "2.2": "EE928BC346F8", "3.1": "8", "2.3": Aurus.srcIPAddress, "4.1": "132", "4.2": "000018", "3.4": "00", "3.5": "1.0",
        "3.6": "1.0", "3.8": "1", "4.18": this.getcdate(), "4.19": this.getctime()
      }; return JSON.stringify(a)
    }, initappleWalletToken: function () { var a = Aurus._priEcstBaseURL + "altsessiontoken" + Aurus._hostDomainURL, b = Aurus.getHostRequestJSON(Aurus.getApplePayRequestJson()); this.ajaxCall(b, a, Aurus.applepayTokenResponseHandler) }, applepayTokenResponseHandler: function (a) { "00000" == a.response_code && "APPROVED" == a.response_text ? Aurus.blankToken() : (Aurus.blankToken(), Aurus._setWalletID = "7", Aurus._setSessionFailed = !0); digitalWalletResponseHandler(buildMerchantResponseJson(a)) },
    blankToken: function () { Aurus._PaypalOrderID = ""; Aurus.kct = ""; Aurus.vct = ""; Aurus.applePayPaymetData = "" }, buildSessionTokenRequestPayload: function (a) {
      a = {
        "12.97": "", "4.11": "", "12.74": "", "12.98": "", "3.21": Aurus._apiversion, "12.90": this.toHex(JSON.stringify({ walletAuthToken: a })), "12.71": "", "12.102": "0", "12.109": "", "4.20": "840", "6.45": "Sample for klarnapay", "4.21": "840", "12.85": "", "12.63": Aurus.getAurusSession, "12.88": "1", "12.89": "14", "1.1": "", "1.2": "", "1.3": "", "1.4": Aurus.getCid, "2.1": "C0N43N4U45RLN8R1",
        "2.2": "000C29BFD6C0", "3.1": "8", "2.3": Aurus.srcIPAddress, "4.1": "132", "4.2": "114848", "3.4": "00", "3.5": "1.0", "3.6": "1.0", "3.8": "1", "4.18": this.getcdate(), "4.19": this.getctime()
      }; return JSON.stringify(a)
    }, toHex: function (a) { return this.toUTF8Array(a).map(function (a) { return ("0" + (a & 255).toString(16)).slice(-2) }).join("") }, getHostRequestJSON: function (a) { return "formFactorId=" + this.tid + "&txnDateTime=" + this.getcdate() + this.getctime() + "&encryptionFlag=00&payload=STX" + this.toHex(a) + "ETX" }, toUTF8Array: function (a) {
      for (var b =
        [], d = 0; d < a.length; d++) { var c = a.charCodeAt(d); 128 > c ? b.push(c) : 2048 > c ? b.push(192 | c >> 6, 128 | c & 63) : 55296 > c || 57344 <= c ? b.push(224 | c >> 12, 128 | c >> 6 & 63, 128 | c & 63) : (d++, c = 65536 + ((c & 1023) << 10 | a.charCodeAt(d) & 1023), b.push(240 | c >> 18, 128 | c >> 12 & 63, 128 | c >> 6 & 63, 128 | c & 63)) } return b
    }
  }, baseRequest = { apiVersion: 2, apiVersionMinor: 0, emailRequired: !0 }, allowedCardNetworks = ["AMEX", "DISCOVER", "JCB", "MASTERCARD", "VISA"], allowedCardAuthMethods = ["PAN_ONLY"], tokenizationSpecification = {
    type: "PAYMENT_GATEWAY", parameters: {
      gateway: "auruspay",
      gatewayMerchantId: "1012311800130977811265267"
    }
  }, baseCardPaymentMethod = { type: "CARD", parameters: { allowedAuthMethods: allowedCardAuthMethods, allowedCardNetworks: allowedCardNetworks, billingAddressRequired: !0, billingAddressParameters: { format: "FULL", phoneNumberRequired: !0 } } }, cardPaymentMethod = Object.assign({}, baseCardPaymentMethod, { tokenizationSpecification: tokenizationSpecification });
  function getGoogleIsReadyToPayRequest() { return Object.assign({}, baseRequest, { allowedPaymentMethods: [baseCardPaymentMethod] }) } function getGooglePaymentDataRequest() { var a = Object.assign({}, baseRequest); a.shippingAddressRequired = googleShippingAddReq; a.shippingAddressParameters = { allowedCountryCodes: ["US"] }; a.allowedPaymentMethods = [cardPaymentMethod]; a.transactionInfo = getGoogleTransactionInfo(); a.merchantInfo = { merchantId: "BCR2DN4TWL6MDV2L", merchantName: "Oreilly" }; return a }
  function getGooglePaymentsClient() { return new google.payments.api.PaymentsClient({ environment: Aurus._googleEnv }) } function onGooglePayLoaded() { getGooglePaymentsClient().isReadyToPay(getGoogleIsReadyToPayRequest()).then(function (a) { a.result && addGooglePayButton() }).catch(function (a) { console.error(a) }) }
  function addGooglePayButton() { var a = getGooglePaymentsClient().createButton({ onClick: onGooglePaymentButtonClicked, buttonSizeMode: "fill", buttonType: "plain" }); document.getElementById("aurus-google-pay-containerId").appendChild(a) } function getGoogleTransactionInfo() { return { currencyCode: Aurus.getCurrencyCode, totalPriceStatus: "FINAL", totalPrice: parseFloat(transactionAmtForPay).toFixed(2) } }
  function prefetchGooglePaymentData() { var a = getGooglePaymentDataRequest(); a.transactionInfo = { totalPriceStatus: "NOT_CURRENTLY_KNOWN", currencyCode: Aurus.getCurrencyCode }; getGooglePaymentsClient().prefetchPaymentData(a) } function onGooglePaymentButtonClicked() { var a = getGooglePaymentDataRequest(); a.transactionInfo = getGoogleTransactionInfo(); getGooglePaymentsClient().loadPaymentData(a).then(function (a) { processPayment(a) }).catch(function (a) { console.error(a) }) }
  function processPayment(a) { a = JSON.stringify(a); Aurus._gPayPaymetData = a } function getScripts(a, b) { var d = 0; a.forEach(function (c) { jQuery.getScript(c, function () { ++d == a.length && b() }) }) }
  window.klarnaAsyncCallback = function () { window.Klarna.Payments.init({ client_token: Aurus.getKlarnaClientToken }); window.Klarna.Payments.load({ container: "#klarna_container", payment_method_category: Aurus.getKlarnaPayMethodType }, function (a) { }); jQuery(function () { jQuery("button.authorize").on("click", function () { Klarna.Payments.authorize({ payment_method_category: Aurus.getKlarnaPayMethodType }, function (a) { Aurus.klarnaAuthTokenHandler(a) }) }) }) };
  function buildMerchantResponseJson(a) {
    a = {
      GetSessionTokenResponse: {
        CardNumber: "" + checkProperty(a, "masked_card_num") + "", ProfileId: "" + checkProperty(a, "profileId") + "", ResponseCode: "" + checkProperty(a, "response_code") + "", RequestId: "" + checkProperty(a, "requestId") + "", MerchantSessionId: "" + checkProperty(a, "merchantSessionId") + "", ProcessorToken: "" + checkProperty(a, "processorToken") + "", ProcessorPayerId: "" + checkProperty(a, "processorPayerId") + "", ECOMMInfo: {
          OneTimeToken: "" + checkProperty(a, "one_time_token") + "", StoreId: "" +
            checkProperty(a, "sid") + "", MerchantIdentifier: "" + checkProperty(a, "mid") + "", TerminalId: "" + checkProperty(a, "tid") + ""
        }, Pay_Wallet: "" + checkProperty(a, "payWalletData") + "", CardToken: "" + checkProperty(a, "cardToken") + "", BillingAddress: {
          BillingAddressLine1: "" + checkProperty(a, "billingaddr1") + "", BillingAddressLine2: "" + checkProperty(a, "billingaddr2") + "", BillingCountry: "" + checkProperty(a, "billingcountry") + "", BillingEmailId: "" + checkProperty(a, "billingemailid") + "", BillingCity: "" + checkProperty(a, "billingcity") + "",
          BillingMobileNumber: "" + checkProperty(a, "billingcellno") + "", BillingFirstName: "" + checkProperty(a, "billingfn") + "", BillingLastName: "" + checkProperty(a, "billingln") + "", BillingZip: "" + checkProperty(a, "billingzip") + "", BillingState: "" + checkProperty(a, "billingstate") + "", BillingMiddleName: "" + checkProperty(a, "billingmn") + ""
        }, CardType: "" + checkProperty(a, "card_type") + "", SubCardType: "" + checkProperty(a, "subcard_type") + "", TransactionIdentifier: "" + checkProperty(a, "transactionIdentifier") + "", CardExpiryDate: "" + checkProperty(a,
          "CardExpiryDate") + "", ShippingAddress: {
            ShippingAddressLine1: "" + checkProperty(a, "shippingaddr1") + "", ShippingEmailId: "" + checkProperty(a, "shippingemailid") + "", ShippingMiddleName: "" + checkProperty(a, "shippingmn") + "", ShippingFirstName: "" + checkProperty(a, "shippingfn") + "", ShippingZip: "" + checkProperty(a, "shippingzip") + "", ShippingCountry: "" + checkProperty(a, "shippingcountry") + "", ShippingCity: "" + checkProperty(a, "shippingcity") + "", ShippingState: "" + checkProperty(a, "shippingstate") + "", ShippingMobileNumber: "" + checkProperty(a,
              "shippingcellno") + "", ShippingAddressLine2: "" + checkProperty(a, "shippingaddr2") + "", ShippingLastName: "" + checkProperty(a, "shippingln") + ""
          }, ResponseText: "" + checkProperty(a, "response_text") + "", CartId: "" + checkProperty(a, "cartId") + "", WalletIdentifier: "" + checkProperty(a, "WalletIdentifier") + "", ShippingMethod: "" + checkProperty(a, "ShippingMethod") + "", ModifiedOrder: { OrderTotal: "0", Subtotal: "0", Discount: "0", TaxAmount: "0", ShippingAmount: "0", GiftWrap: "0", Coupon: "0" }
      }
    }; if (Aurus.getBillerFailed || Aurus.getSessionFailed) a.GetSessionTokenResponse.WalletIdentifier =
      Aurus.getWalletID, Aurus._setBillerFailed = !1, Aurus._setSessionFailed = !1; "7" == Aurus.getWalletID && (a.GetSessionTokenResponse.ShippingMethod = Aurus.getSelectedShippingMethod, a.GetSessionTokenResponse.ModifiedOrder.OrderTotal = Aurus.getOrderAmount, a.GetSessionTokenResponse.ModifiedOrder.Subtotal = Aurus.getSubTotal, a.GetSessionTokenResponse.ModifiedOrder.Discount = Aurus.getDiscount, a.GetSessionTokenResponse.ModifiedOrder.TaxAmount = Aurus.getEstimatedTax, a.GetSessionTokenResponse.ModifiedOrder.ShippingAmount =
        Aurus.getShippingCost, a.GetSessionTokenResponse.ModifiedOrder.GiftWrap = Aurus.getGiftWrap, a.GetSessionTokenResponse.ModifiedOrder.Coupon = Aurus.getCoupon); return a
  } function addGooglePayButtonWithCn() { var a = getGooglePaymentsClient().createButton({ onClick: onGooglePaymentButtonClicked, buttonSizeMode: "fill", buttonType: "buy" }); document.getElementById("aurus-google-pay-containerId").appendChild(a) } function checkProperty(a, b) { return a.hasOwnProperty(b) ? a[b] : "" }
  function postAurusScriptLoadedEvent() { try { window.parent.postMessage("AurusScriptLoaded=true", "*") } catch (a) { } } postAurusScriptLoadedEvent();
  /*]]>*/
</script>
<!-- Below is code for the handlers related to Digital Wallet & Klarna. The funciton names need to match what Aurus is giving us above.
However, the code within the methods that handles the success or failures can be modified on our end. -->
<script th:inline="javascript">
  /*<![CDATA[*/
  function digitalWalletResponseHandler(JSONdata) {
    var responseCode = JSONdata.GetSessionTokenResponse.ResponseCode; if (responseCode == "00000") {
      window.parent.postMessage(`digitalWalletSuccess=${JSON.stringify(JSONdata)}`
      );
    } else { window.parent.postMessage(`digitalWalletError=${JSON.stringify(JSONdata)}`); }
  } function klarnaResponseHandler(JSONdata) {
    var responseCode = JSONdata.GetSessionTokenResponse.ResponseCode; if (responseCode == "00000") {
      window.parent.postMessage(`KlarnaSuccess=${JSON.stringify(JSONdata)}`);
    } else { window.parent.postMessage(`KlarnaError=${JSON.stringify(JSONdata)}`); }
  };
  /*]]>*/
</script>